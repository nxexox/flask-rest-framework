<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <meta name="description" content="Python Rest Framework - Web APIs for Python">
    
    
        <meta name="author" content="Deys Timofey">
    
    
        <link rel="canonical" href="https://nxexox.github.io/python-rest-framework/api-guid/fields/">
    
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>Serializers Fields - Python Rest Framework</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../..">Python Rest Framework</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../serializers/">Serializers</a>
</li>

                        
                            
<li class="active">
    <a href="./">Serializers Fields</a>
</li>

                        
                            
<li >
    <a href="../validators/">Serializers Validation</a>
</li>

                        
                            
<li >
    <a href="../views/views/">BaseViews</a>
</li>

                        
                            
<li >
    <a href="../views/mixins/">ViewsMixins</a>
</li>

                        
                            
<li >
    <a href="../views/paginations/">PaginationViews</a>
</li>

                        
                            
<li >
    <a href="../views/flask/">FlaskViews</a>
</li>

                        
                            
<li >
    <a href="../views/aiohttp/">AioHTTPViews</a>
</li>

                        
                            
<li >
    <a href="../views/sanic/">SanicViews</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../release-notes/">Release Notes</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fa fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../serializers/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../validators/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/blob/master/docs/api-guid/fields.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                    </li>
                    <li>
                        <a href="https://github.com/nxexox/python-rest-framework/"><i class="fa fa-github"></i> GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#fields">Fields</a></li>
            <li class="second-level"><a href="#core-arguments">Core arguments</a></li>
                
                <li class="third-level"><a href="#required">required</a></li>
                <li class="third-level"><a href="#default">default</a></li>
                <li class="third-level"><a href="#label">label</a></li>
                <li class="third-level"><a href="#validators">validators</a></li>
                <li class="third-level"><a href="#error_messages">error_messages</a></li>
                <li class="third-level"><a href="#source">source</a></li>
        <li class="first-level "><a href="#fields_1">Fields</a></li>
            <li class="second-level"><a href="#booleanfield">BooleanField</a></li>
                
            <li class="second-level"><a href="#booleannullfield">BooleanNullField</a></li>
                
            <li class="second-level"><a href="#charfield">CharField</a></li>
                
            <li class="second-level"><a href="#integerfield">IntegerField</a></li>
                
            <li class="second-level"><a href="#floatfield">FloatField</a></li>
                
        <li class="first-level "><a href="#date-and-time-fields">Date and time fields</a></li>
            <li class="second-level"><a href="#datetimefield">DateTimeField</a></li>
                
                <li class="third-level"><a href="#datetimefield-format-strings">DateTimeField format strings.</a></li>
            <li class="second-level"><a href="#datefield">DateField</a></li>
                
                <li class="third-level"><a href="#datefield-format-strings">DateField format strings</a></li>
            <li class="second-level"><a href="#timefield">TimeField</a></li>
                
                <li class="third-level"><a href="#timefield-format-strings">TimeField format strings</a></li>
        <li class="first-level "><a href="#composite-fields">Composite fields</a></li>
            <li class="second-level"><a href="#listfield">ListField</a></li>
                
            <li class="second-level"><a href="#jsonfield">JSONField</a></li>
                
            <li class="second-level"><a href="#dictfield">DictField</a></li>
                
        <li class="first-level "><a href="#miscellaneous-fields">Miscellaneous fields</a></li>
            <li class="second-level"><a href="#serializermethodfield">SerializerMethodField</a></li>
                
        <li class="first-level "><a href="#custom-fields">Custom fields</a></li>
            <li class="second-level"><a href="#examples">Examples</a></li>
                
                <li class="third-level"><a href="#a-basic-custom-field">A Basic Custom Field</a></li>
                <li class="third-level"><a href="#raising-validation-errors">Raising validation errors</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="fields"><a class="toclink" href="#fields">Fields</a></h1>
<p>Serializer fields handle converting between primitive values and internal datatypes.  They also deal with validating input values, as well as retrieving and setting the values from their parent objects.</p>
<hr />
<p><strong>Note:</strong> The serializer fields are declared in <code>fields.py</code>, but by convention you should import them using <code>from rest_framework import serializers</code> and refer to fields as <code>serializers.&lt;FieldName&gt;</code>.</p>
<hr />
<h2 id="core-arguments"><a class="toclink" href="#core-arguments">Core arguments</a></h2>
<p>Each serializer field class constructor takes at least these arguments.  Some Field classes take additional, field-specific arguments, but the following should always be accepted:</p>
<h3 id="required"><a class="toclink" href="#required"><code>required</code></a></h3>
<p>Normally an error will be raised if a field is not supplied during deserialization.
Set to false if this field is not required to be present during deserialization.</p>
<p>Setting this to <code>False</code> also allows the object attribute or dictionary key to be omitted from output when serializing the instance. If the key is not present it will simply not be included in the output representation.</p>
<p>Defaults to <code>True</code>.</p>
<h3 id="default"><a class="toclink" href="#default"><code>default</code></a></h3>
<p>If set, this gives the default value that will be used for the field if no input value is supplied. If not set the default behaviour is to not populate the attribute at all.</p>
<p>May be set to a function or other callable, in which case the value will be evaluated each time it is used. When called, it will receive no arguments.</p>
<p>When serializing the instance, default will be used if the the object attribute or dictionary key is not present in the instance.</p>
<p>Note that setting a <code>default</code> value implies that the field is not required. Enabling the arguments of the <code>default</code> keyword will set the<code>required</code> to <code>False</code>.</p>
<h3 id="label"><a class="toclink" href="#label"><code>label</code></a></h3>
<p>A short text string that may be used as the name of the field in HTML form fields or other descriptive elements.</p>
<h3 id="validators"><a class="toclink" href="#validators"><code>validators</code></a></h3>
<p>A list of validator functions which should be applied to the incoming field input, and which either raise a validation error or simply return. Validator functions should raise <code>serializers.ValidationError</code>.</p>
<h3 id="error_messages"><a class="toclink" href="#error_messages"><code>error_messages</code></a></h3>
<p>A dictionary of error codes to error messages.</p>
<h3 id="source"><a class="toclink" href="#source"><code>source</code></a></h3>
<p>The name of the field object with which the serializer field is associated. By default, the field name of the serializer = the name of the field of the object being serialized. This field changes this behavior.</p>
<p><strong>Example:</strong></p>
<pre><code class="python">from rest_framework import serializers

class Model(object):
    field = 10

class StandardSerializer(serializers.Serializer):
    field = serializers.IntegerField()

class SourceFieldSerializer(serializers.Serializer):
    new_field = serializers.IntegerField(source='field')

print(StandardSerializer(instance=Model()).data)
# {'field': 10}
print(SourceFieldSerializer(instance=Model()).data)
# {'new_field': 10}
</code></pre>

<hr />
<h1 id="fields_1"><a class="toclink" href="#fields_1">Fields</a></h1>
<h2 id="booleanfield"><a class="toclink" href="#booleanfield">BooleanField</a></h2>
<p>When using HTML encoded form input be aware that omitting a value will always be treated as setting a field to <code>False</code>, even if it has a <code>default=True</code> option specified. This is because HTML checkbox inputs represent the unchecked state by omitting the value, so REST framework treats omission as if it is an empty checkbox input.</p>
<p><strong>Signature:</strong> <code>BooleanField()</code></p>
<hr />
<h2 id="booleannullfield"><a class="toclink" href="#booleannullfield">BooleanNullField</a></h2>
<p>A boolean representation that also accepts <code>None</code> as a valid value.</p>
<p>When using HTML encoded form input be aware that omitting a value will always be treated as setting a field to <code>False</code>, even if it has a <code>default=True</code> option specified. This is because HTML checkbox inputs represent the unchecked state by omitting the value, so REST framework treats omission as if it is an empty checkbox input.</p>
<p><strong>Signature:</strong> <code>BooleanNullField()</code></p>
<hr />
<h2 id="charfield"><a class="toclink" href="#charfield">CharField</a></h2>
<p>A text representation. Optionally validates the text to be shorter than <code>max_length</code> and longer than <code>min_length</code>.</p>
<p><strong>Signature:</strong> <code>CharField(max_length=None, min_length=None, trim_whitespace=True, allow_blank=False)</code></p>
<ul>
<li><code>min_length</code> - Validates that the input contains no fewer than this number of characters.</li>
<li><code>max_length</code> - Validates that the input contains no more than this number of characters.</li>
<li><code>allow_blank</code> - If set to <code>True</code> then the empty string should be considered a valid value. If set to <code>False</code> then the empty string is considered invalid and will raise a validation error. Defaults to <code>False</code>.</li>
<li><code>trim_whitespace</code> - If set to <code>True</code> then leading and trailing whitespace is trimmed. Defaults to <code>True</code>.</li>
</ul>
<hr />
<h2 id="integerfield"><a class="toclink" href="#integerfield">IntegerField</a></h2>
<p>An integer representation.</p>
<p><strong>Signature</strong>: <code>IntegerField(min_value=None, max_value=None)</code></p>
<ul>
<li><code>min_value</code> Validate that the number provided is no less than this value.</li>
<li><code>max_value</code> Validate that the number provided is no greater than this value.</li>
</ul>
<hr />
<h2 id="floatfield"><a class="toclink" href="#floatfield">FloatField</a></h2>
<p>A floating point representation.</p>
<p><strong>Signature</strong>: <code>FloatField(min_value=None, max_value=None)</code></p>
<ul>
<li><code>min_value</code> Validate that the number provided is no less than this value.</li>
<li><code>max_value</code> Validate that the number provided is no greater than this value.</li>
</ul>
<hr />
<h1 id="date-and-time-fields"><a class="toclink" href="#date-and-time-fields">Date and time fields</a></h1>
<h2 id="datetimefield"><a class="toclink" href="#datetimefield">DateTimeField</a></h2>
<p>A date and time representation.</p>
<p><strong>Signature:</strong> <code>DateTimeField(format=None, input_format=None)</code></p>
<ul>
<li><code>format</code> - A string representing the output format. If not specified, this defaults to the same value as the <code>DEFAULT_DATETIME_FORMAT</code> settings key, which will be <code>'iso-8601'</code> unless set. Setting to a format string indicates that <code>to_representation</code> return values should be coerced to string output. Format strings are described below. Setting this value to <code>None</code> indicates that Python <code>datetime</code> objects should be returned by <code>to_representation</code>. In this case the datetime encoding will be determined by the renderer.</li>
<li><code>input_format</code> - String representing the input format which may be used to parse the date.  If not specified, the <code>DEFAULT_INPUT_DATETIME_FORMAT</code> setting will be used, which defaults to <code>'iso-8601'</code>.</li>
</ul>
<h4 id="datetimefield-format-strings"><a class="toclink" href="#datetimefield-format-strings"><code>DateTimeField</code> format strings.</a></h4>
<p>Format strings may either be [Python strftime formats][strftime] which explicitly specify the format, or the special string <code>'iso-8601'</code>, which indicates that <a href="https://www.w3.org/TR/NOTE-datetime">ISO 8601</a> style datetimes should be used. (eg <code>'2013-01-29 12:34:56'</code>)</p>
<p>When a value of <code>None</code> is used for the format <code>datetime</code> objects will be returned by <code>to_representation</code> and the final output representation will determined by the renderer class.</p>
<h2 id="datefield"><a class="toclink" href="#datefield">DateField</a></h2>
<p>A date representation.</p>
<p><strong>Signature:</strong> <code>DateField(format=None, input_format=None)</code></p>
<ul>
<li><code>format</code> - A string representing the output format.  If not specified, this defaults to the same value as the <code>DEFAULT_DATE_FORMAT</code> settings key, which will be <code>'iso-8601'</code> unless set. Setting to a format string indicates that <code>to_representation</code> return values should be coerced to string output. Format strings are described below. Setting this value to <code>None</code> indicates that Python <code>date</code> objects should be returned by <code>to_representation</code>. In this case the date encoding will be determined by the renderer.</li>
<li><code>input_format</code> - String representing the input format which may be used to parse the date.  If not specified, the <code>DEFAULT_INPUT_DATE_FORMATS</code> setting will be used, which defaults to <code>'iso-8601'</code>.</li>
</ul>
<h4 id="datefield-format-strings"><a class="toclink" href="#datefield-format-strings"><code>DateField</code> format strings</a></h4>
<p>Format strings may either be [Python strftime formats][strftime] which explicitly specify the format, or the special string <code>'iso-8601'</code>, which indicates that <a href="https://www.w3.org/TR/NOTE-datetime">ISO 8601</a> style dates should be used. (eg <code>'2013-01-29'</code>)</p>
<h2 id="timefield"><a class="toclink" href="#timefield">TimeField</a></h2>
<p>A time representation.</p>
<p><strong>Signature:</strong> <code>TimeField(format=None, input_format=None)</code></p>
<ul>
<li><code>format</code> - A string representing the output format.  If not specified, this defaults to the same value as the <code>DEFAULT_TIME_FORMAT</code> settings key, which will be <code>'iso-8601'</code> unless set. Setting to a format string indicates that <code>to_representation</code> return values should be coerced to string output. Format strings are described below. Setting this value to <code>None</code> indicates that Python <code>time</code> objects should be returned by <code>to_representation</code>. In this case the time encoding will be determined by the renderer.</li>
<li><code>input_format</code> - String representing the input format which may be used to parse the date.  If not specified, the <code>DEFAULT_INPUT_TIME_FORMATS</code> setting will be used, which defaults to <code>'iso-8601'</code>.</li>
</ul>
<h4 id="timefield-format-strings"><a class="toclink" href="#timefield-format-strings"><code>TimeField</code> format strings</a></h4>
<p>Format strings may either be [Python strftime formats][strftime] which explicitly specify the format, or the special string <code>'iso-8601'</code>, which indicates that <a href="https://www.w3.org/TR/NOTE-datetime">ISO 8601</a> style times should be used. (eg <code>'12:34:56'</code>)</p>
<hr />
<h1 id="composite-fields"><a class="toclink" href="#composite-fields">Composite fields</a></h1>
<h2 id="listfield"><a class="toclink" href="#listfield">ListField</a></h2>
<p>A field class that validates a list of objects.</p>
<p><strong>Signature</strong>: <code>ListField(child=&lt;A_FIELD_INSTANCE&gt;, min_length=None, max_length=None, allow_empty=False)</code></p>
<ul>
<li><code>child</code> - A field instance that should be used for validating the objects in the list. If this argument is not provided then objects in the list will not be validated.</li>
<li><code>min_length</code> - Validates that the list contains no fewer than this number of elements.</li>
<li><code>max_length</code> - Validates that the list contains no more than this number of elements.</li>
<li><code>allow_blank</code> - If set to<code>True</code>, an empty array should be considered valid. If set to <code>False</code>, an empty array is considered invalid and causes a validation error. The default is <code>False</code>.</li>
</ul>
<p>For example, to validate a list of integers you might use something like the following:</p>
<pre><code class="python">scores = serializers.ListField(
   child=serializers.IntegerField(min_value=0, max_value=100)
)
</code></pre>

<p>The <code>ListField</code> class also supports a declarative style that allows you to write reusable list field classes.</p>
<pre><code class="python">class StringListField(serializers.ListField):
    child = serializers.CharField()
</code></pre>

<p>We can now reuse our custom <code>StringListField</code> class throughout our application, without having to provide a <code>child</code> argument to it.</p>
<h2 id="jsonfield"><a class="toclink" href="#jsonfield">JSONField</a></h2>
<p>A field class that validates that the incoming data structure consists of valid JSON primitives. In its alternate binary mode, it will represent and validate JSON-encoded binary strings.</p>
<p><strong>Signature</strong>: <code>JSONField()</code></p>
<h2 id="dictfield"><a class="toclink" href="#dictfield">DictField</a></h2>
<p>A field class that validates a dictionary of objects. The keys in <code>DictField</code> are always assumed to be string values.</p>
<p><strong>Signature</strong>: <code>DictField(child=&lt;A_FIELD_INSTANCE&gt;)</code></p>
<ul>
<li><code>child</code> - A field instance that should be used for validating the values in the dictionary. If this argument is not provided then values in the mapping will not be validated.</li>
</ul>
<p>For example, to create a field that validates a mapping of strings to strings, you would write something like this:</p>
<pre><code class="python">document = DictField(child=CharField())
</code></pre>

<p>You can also use the declarative style, as with <code>ListField</code>. For example:</p>
<pre><code class="python">class DocumentField(DictField):
    child = CharField()
</code></pre>

<hr />
<h1 id="miscellaneous-fields"><a class="toclink" href="#miscellaneous-fields">Miscellaneous fields</a></h1>
<h2 id="serializermethodfield"><a class="toclink" href="#serializermethodfield">SerializerMethodField</a></h2>
<p>It gets its value by calling a method on the serializer class it is attached to. It can be used to add any sort of data to the serialized representation of your object.</p>
<p><strong>Signature</strong>: <code>SerializerMethodField(method_name_get=None, method_name_pop=None)</code></p>
<ul>
<li><code>method_name_get</code> - The name of the method on the calling serializer during object scrapping. If not included this defaults to <code>get_&lt;field_name&gt;</code>.</li>
<li><code>method_name_pop</code> - The name of the method on the calling serializer during validation data. If not included this defaults to <code>pop_&lt;field_name&gt;</code>.</li>
</ul>
<p>The serializer method referred to by the <code>method_name_get</code> argument should accept a single argument (in addition to <code>self</code>), which is the object being serialized. It should return whatever you want to be included in the serialized representation of the object. For example:</p>
<pre><code class="python">from datetime.datetime import now
from rest_framework import serializers

class UserSerializer(serializers.Serializer):
    days_since_joined = serializers.SerializerMethodField()

    def get_days_since_joined(self, obj):
        return (now() - obj.date_joined).days
</code></pre>

<p>The serializer method referenced by the <code>method_name_pop</code> argument must take one argument (in addition to<code>self</code>), which is the value to process and validate. It must return whatever you want to include in the validated view of the data. For example:</p>
<pre><code class="python">from datetime.datetime import now
from rest_framework import serializers

class UserSerializer(serializers.Serializer):
    rgb = serializers.SerializerMethodField()

    def pop_rgb(self, data):
        return data.split(';')[1:3]
</code></pre>

<hr />
<h1 id="custom-fields"><a class="toclink" href="#custom-fields">Custom fields</a></h1>
<p>If you want to create a custom field, you&rsquo;ll need to subclass <code>Field</code> and then override either one or both of the <code>.to_representation()</code> and <code>.to_internal_value()</code> methods.  These two methods are used to convert between the initial datatype, and a primitive, serializable datatype. Primitive datatypes will typically be any of a number, string, boolean, <code>date</code>/<code>time</code>/<code>datetime</code> or <code>None</code>. They may also be any list or dictionary like object that only contains other primitive objects. Other types might be supported, depending on the renderer that you are using.</p>
<p>The <code>.to_representation()</code> method is called to convert the initial datatype into a primitive, serializable datatype.</p>
<p>The <code>to_internal_value()</code> method is called to restore a primitive datatype into its internal python representation. This method should raise a <code>serializers.ValidationError</code> if the data is invalid.</p>
<hr />
<h2 id="examples"><a class="toclink" href="#examples">Examples</a></h2>
<h3 id="a-basic-custom-field"><a class="toclink" href="#a-basic-custom-field">A Basic Custom Field</a></h3>
<p>Let&rsquo;s look at an example of serializing a class that represents an RGB color value:</p>
<pre><code class="python">class Color(object):
    &quot;&quot;&quot;
    A color represented in the RGB colorspace.

    &quot;&quot;&quot;
    def __init__(self, red, green, blue):
        assert(red &gt;= 0 and green &gt;= 0 and blue &gt;= 0)
        assert(red &lt; 256 and green &lt; 256 and blue &lt; 256)
        self.red, self.green, self.blue = red, green, blue

class ColorField(serializers.Field):
    &quot;&quot;&quot;
    Color objects are serialized into 'rgb(#, #, #)' notation.

    &quot;&quot;&quot;
    def to_representation(self, value):
        return &quot;rgb(%d, %d, %d)&quot; % (value.red, value.green, value.blue)

    def to_internal_value(self, data):
        data = data.strip('rgb(').rstrip(')')
        red, green, blue = [int(col) for col in data.split(',')]
        return Color(red, green, blue)
</code></pre>

<p>By default field values are treated as mapping to an attribute on the object or key Mapping collection.  If you need to customize how the field value is accessed and set you need to override <code>.get_attribute()</code>.</p>
<p>As an example, let&rsquo;s create a field that can be used to represent the class name of the object being serialized:</p>
<pre><code class="python">class ClassNameField(serializers.Field):
    def get_attribute(self, instance):
        # We pass the object instance onto `to_representation`,
        # not just the field attribute.
        return instance

    def to_representation(self, value):
        &quot;&quot;&quot;
        Serialize the value's class name.

        &quot;&quot;&quot;
        return value.__class__.__name__
</code></pre>

<h3 id="raising-validation-errors"><a class="toclink" href="#raising-validation-errors">Raising validation errors</a></h3>
<p>Our <code>ColorField</code> class above currently does not perform any data validation.
To indicate invalid data, we should raise a <code>serializers.ValidationError</code>, like so:</p>
<pre><code class="python">def to_internal_value(self, data):
    if not isinstance(data, six.text_type):
        msg = 'Incorrect type. Expected a string, but got %s'
        raise ValidationError(msg % type(data).__name__)

    if not re.match(r'^rgb\([0-9]+,[0-9]+,[0-9]+\)$', data):
        raise ValidationError('Incorrect format. Expected `rgb(#,#,#)`.')

    data = data.strip('rgb(').rstrip(')')
    red, green, blue = [int(col) for col in data.split(',')]

    if any([col &gt; 255 or col &lt; 0 for col in (red, green, blue)]):
        raise ValidationError('Value out of range. Must be between 0 and 255.')

    return Color(red, green, blue)
</code></pre>

<p>The <code>.fail()</code> method is a shortcut for raising <code>ValidationError</code> that takes a message string from the <code>error_messages</code> dictionary. For example:</p>
<pre><code class="python">default_error_messages = {
    'incorrect_type': 'Incorrect type. Expected a string, but got {input_type}',
    'incorrect_format': 'Incorrect format. Expected `rgb(#,#,#)`.',
    'out_of_range': 'Value out of range. Must be between 0 and 255.'
}

def to_internal_value(self, data):
    if not isinstance(data, six.text_type):
        self.fail('incorrect_type', input_type=type(data).__name__)

    if not re.match(r'^rgb\([0-9]+,[0-9]+,[0-9]+\)$', data):
        self.fail('incorrect_format')

    data = data.strip('rgb(').rstrip(')')
    red, green, blue = [int(col) for col in data.split(',')]

    if any([col &gt; 255 or col &lt; 0 for col in (red, green, blue)]):
        self.fail('out_of_range')

    return Color(red, green, blue)
</code></pre>

<p>This style keeps your error messages cleaner and more separated from your code, and should be preferred.</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Copyright (c) 2019, Deys Timofey All rights reserved.<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
